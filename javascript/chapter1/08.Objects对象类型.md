---
title: "Objectså¯¹è±¡ç±»å‹"
date: "2019-08-21"
---

# JavaScript | Objectså¯¹è±¡ç±»å‹ <!-- omit in toc -->

é’ˆå¯¹å¯¹è±¡ç±»å‹çš„æ–¹æ³•è¿›è¡Œä¸€äº›æ·±å…¥äº†è§£ã€‚

## ç›®å½•æ‘˜è¦ <!-- omit in toc -->

- [å¯¹è±¡çš„è¿­ä»£](#å¯¹è±¡çš„è¿­ä»£)
- [è§£æ„èµ‹å€¼](#è§£æ„èµ‹å€¼)
  - [æ•°ç»„è§£æ„](#æ•°ç»„è§£æ„)
  - [å¯¹è±¡è§£æ„](#å¯¹è±¡è§£æ„)
  - [æ™ºèƒ½å‡½æ•°å‚æ•°](#æ™ºèƒ½å‡½æ•°å‚æ•°)

<br>

---

<br>

## å¯¹è±¡çš„è¿­ä»£

å¯¹è±¡ä¹Ÿæ”¯æŒè·å¾—keyä¸valueï¼ŒåŒºåˆ«:

|          | Map        | Object           |
| -------- | ---------- | ---------------- |
| è°ƒç”¨è¯­æ³• | map.keys() | Object.keys(obj) |
| è¿”å›å€¼   | å¯è¿­ä»£é¡¹   | æ•°ç»„             |

æ³¨æ„æ˜¯ `Object.keys(obj)` è€Œä¸æ˜¯ `obj.keys()`ï¼ŒåŸå› æ˜¯æ”¯æŒç”¨æˆ·è‡ªå·±ç¼–å†™keys()æ–¹æ³•çš„åŒæ—¶ä¹Ÿå¯ä»¥è°ƒç”¨è‡ªå¸¦çš„Object.keys()æ–¹æ³•ã€‚

*`Object.keys/values/entries` ä¼šå¿½ç•¥ `Symbol` ç±»å‹çš„å±æ€§ï¼Œå¦‚æœæƒ³è¦è·å¾— `Symbol` ç±»å‹çš„é”®ï¼Œä½¿ç”¨`Object.getOwnPropertySymbols()` ä¼šè¿”å›ä¸€ä¸ªåªåŒ…å« `Symbol` ç±»å‹çš„é”®çš„æ•°ç»„ï¼›`Reflect.ownKeys(obj)` æ–¹æ³•ä¼šè¿”å›æ‰€æœ‰é”®ã€‚*

<br>

## è§£æ„èµ‹å€¼

[è§£æ„èµ‹å€¼è¯­æ³•][è§£æ„èµ‹å€¼]æ˜¯ä¸€ç§ Javascript è¡¨è¾¾å¼ã€‚é€šè¿‡è§£æ„èµ‹å€¼, å¯ä»¥å°†å±æ€§/å€¼ä»å¯¹è±¡/æ•°ç»„ä¸­å–å‡º,èµ‹å€¼ç»™å…¶ä»–å˜é‡ã€‚

### æ•°ç»„è§£æ„

```js
let arr = ["Ilya", "Kantor"]

let [firstName, surname] = arr;
// ç­‰ä»·äº
// let firstName = arr[0];
// let surname = arr[1];

alert(firstName); // Ilya
alert(surname);  // Kantor
```

ä¸è¦çš„å…ƒç´ å¯ä»¥ç”¨é€—å·ä¸¢å¼ƒï¼š

```js
// ä¸éœ€è¦ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå…ƒç´ 
let [, , title] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

alert( title ); // Consul
```

ä½¿ç”¨ `...å˜é‡å` å¯ä»¥æ¥æ”¶å¤šä½™çš„å…ƒç´ ï¼š

```js
let [name1, name2, ...rest] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

alert(rest[0]); // Consul
alert(rest[1]); // of the Roman Republic
alert(rest.length); // 2
```

å…è®¸æä¾›é»˜è®¤å€¼ï¼š

```js
let [name = "Guest", surname = "Anonymous"] = ["Julius"];

alert(name);    // Julius (æ¥è‡ªæ•°ç»„çš„å€¼)
alert(surname); // Anonymous (é»˜è®¤å€¼è¢«ä½¿ç”¨äº†)
```

#### ç®€å•ç”¨æ³• <!-- omit in toc -->

å˜é‡äº¤æ¢ï¼š

```js
let a = 1;
let b = 2;
[a, b] = [b, a];
```

æ¥æ”¶å¤šä¸ªè¿”å›å€¼ï¼š

```js
function f() {
    return [1, 2, 3, 4, 5];
}

let a, b;
[a, , , b] = f();
```

### å¯¹è±¡è§£æ„

è¯­æ³•ï¼š

```js
let {var1, var2} = {
    var1: ...,
    var2: ...
}
```

ä¾‹å­ï¼š

```js
let options = {
  title: "Menu",
  width: 100,
  height: 200
};

let {title, width, height} = options;

alert(title);  // Menu
alert(width);  // 100
alert(height); // 200
```

è¿™æ—¶å˜é‡é¡ºåºä¸é‡è¦ï¼Œä½†å˜é‡åæ˜¯å¯¹åº”çš„ã€‚

å¯ä»¥ä½¿ç”¨å†’å·ï¼ˆ`:`ï¼‰å°†å±æ€§èµ‹ç»™ä¸åŒçš„å˜é‡åï¼š

```js
let options = {
  title: "Menu",
  width: 100,
  height: 200
};

// { åŸå±æ€§ï¼šç›®æ ‡å˜é‡ }
let {width: w, height: h, title} = options;

// width -> w
// height -> h
// title -> title

alert(title);  // Menu
alert(w);      // 100
alert(h);      // 200
```

å¯¹è±¡è§£æ„åŒæ ·æ”¯æŒä½¿ç”¨ç­‰å·ï¼ˆ`=`ï¼‰æŒ‡å®šé»˜è®¤å€¼ã€‚

å‰©ä½™æ“ä½œç¬¦ï¼ˆ`...`ï¼‰ç›®å‰è¿˜æœªå®Œå…¨å—åˆ°æ”¯æŒã€‚<font size="1" color="grey">ï¼ˆå½“å‰æ—¶é—´ï¼š2019å¹´8æœˆï¼‰</font>

æ”¯æŒåµŒå¥—è§£æ„ï¼š

![åµŒå¥—ç»“æ„å›¾][åµŒå¥—ç»“æ„å›¾]

è¯¥ä¾‹å­æœ€ç»ˆä¼šå¾—åˆ° widthã€heightã€item1ã€item2 å’Œå…·æœ‰é»˜è®¤å€¼çš„ title å˜é‡ã€‚

### æ™ºèƒ½å‡½æ•°å‚æ•°

ä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥ç•¥å†™é‡‡ç”¨é»˜è®¤å€¼çš„å‡½æ•°å‚æ•°ï¼Œä¸”æ— éœ€æ³¨æ„å‚æ•°é¡ºåºï¼š

```js
let options = {
    title: Menu,
    width: 150
};

function showMenu({ title = "Default", width = 100, height = 200 } = {}) {
  alert( `${title} ${width} ${height}` );
}

showMenu(options); // Menu 150 200
```

<br>

---

<br>

## æ›´å¤šå†…å®¹ <!-- omit in toc -->

è¿”å›[ä¸ªäººç¬”è®°å¯¼èˆªğŸ˜Š](../README.md)

<!-- å˜é‡åŒº -->

[è§£æ„èµ‹å€¼]: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment

[åµŒå¥—ç»“æ„å›¾]: ./pics/nested-deconstruction.jpg
